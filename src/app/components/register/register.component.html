<h2>Registro</h2>
<div style="width:50%; margin:0 auto;color: white;">
<form [formGroup]="registerForm" (ngSubmit)="onSubmitAddUser()">

    <div class="form-group">
        <label for="title">Nombre de usuario:</label>
        
        <input type="text" class="form-control" placeholder="Nombre de usuario"
        [(ngModel)]="usernameText"
        (keyup)="checkUsername()"  formControlName="username">

 <p class="help is-success" *ngIf="usernameAvailable && usernameText">
   @{{usernameText}} está disponible
 </p>

 <p class="help is-danger" *ngIf="!usernameAvailable && usernameText" style="color:red">
   @{{usernameText}} No se encuentra disponible
 </p>        
    </div>
    <div class="form-group">
        <label for="name">Nombre</label>
        <input type="text" formControlName="name" class="form-control" placeholder="Tu nombre"/>
    </div>
    <div class="form-group">
        <label for="lastname">Apellido</label>
        <input type="text" formControlName="lastname" class="form-control" placeholder="Tu apellido"/>

    </div>        
    <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input type="text" formControlName="email" class="form-control" placeholder="Tu correo electrónico" [(ngModel)]="emailText"/>
        <div *ngIf="!emailText" >
            <div >Se requiere correo electrónico</div>
        </div>
    </div>
    <div class="form-group">
        <label for="password">Contraseña</label>
        <input type="password" formControlName="password" class="form-control" />
        <div *ngIf=" password && password.errors.required" >
            <div >Se requiere contraseña</div>
        </div>
    </div>  
    <div class="form-group">
        <button type="submit" [disabled]="loading" class="btn btn-primary" [disabled]="!usernameAvailable && !emailText">Registrarse</button>
        <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        
    </div>
</form>
</div>